<!DOCTYPE HTML>
<html>
<head>
   <title>Technical Details</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "html_dataaccesstechnicaldetails.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">

<table width="100%" border="0" cellspacing="0" cellpadding="10">
  <tr valign="middle" bgcolor="#99CCFF">
    <td>
      <p>
        <table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td style="vertical-align:middle;">
              <p style="font-family:Verdana; font-size:9pt; font-style:italic;">OPC UA C++ Server &amp; Client SDK V6.00</p>
              <p style="font-family:Verdana; font-size:9pt; font-weight:bold;">Technical Details</p>
            </td>
          </tr>
        </table>
      </p>
    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="html_welcome.htm">Top</a>&nbsp;
     <a href="html_dataaccessusecases.htm">Previous</a>&nbsp;
     <a href="html_uasecuritymodel.htm">Next</a>
     </span>
    </td>
  </tr>
  <tr bgcolor="white">
      <td colspan="2">
          <p class="p_Paragraph"><span class="f_Paragraph">Although Part 8 does not introduce any new services, there are a few Data Access specific extensions. These extensions apply to the Deadband filter and Part 8 specific Status Codes. </span></p>
<p class="p_Paragraph"><span class="f_Paragraph">As discussed before in the Services section, the CreateMonitoredItems service is used to create and add one or more MonitoredItems to a Subscription. One of the parameters passed into this service is the MonitoringParameters structure. This structure contains the Extensible Parameter MonitoringFilter. For real time data subscriptions, clients would use the DataChangeFilter form of the Extensible Parameter.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:172px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Name</span></p>
</td>
<td style="vertical-align:top; width:336px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:172px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">DataChangeFilter</span></p>
</td>
<td style="vertical-align:top; width:336px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">&nbsp;</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:172px; padding:3px;"><p class="p_Paragraph"><span style="width:48px">&nbsp;</span><span class="f_Paragraph">Trigger </span></p>
</td>
<td style="vertical-align:top; width:336px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Specifies the conditions under which a data change notification should be reported.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:172px; padding:3px;"><p class="p_Paragraph"><span style="width:48px">&nbsp;</span><span class="f_Paragraph">Deadband Type</span></p>
</td>
<td style="vertical-align:top; width:336px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Defines the Deadband type and behavior:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">No Deadband calculation should be applied. </span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">AbsoluteDeadband (Defined by Part 4) </span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">PercentDeadband (Defined by Part 8).</span></td></tr></table></div></td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:172px; padding:3px;"><p class="p_Paragraph"><span style="width:48px">&nbsp;</span><span class="f_Paragraph">Deadband Value</span></p>
</td>
<td style="vertical-align:top; width:336px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The Deadband is applied only if</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">the Trigger includes value changes and</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">the Deadband Type is set appropriately.</span></td></tr></table></div></td>
</tr>
</table>
</div>
<p class="p_Paragraph"><span class="f_Paragraph">The DataChangeFilter defines the conditions under which a data change notification must be reported. This filter contains a deadband which can be of type AbsoluteDeadband or PercentDeadband. Part 4 defines AbsoluteDeadband as a common filter. Part 8 defines an additional Deadband filter the PercentDeadband.</span></p>
<h2 class="p_Heading2"><span class="f_Heading2">Percent Deadband</span></h2>
<p class="p_Paragraph"><span class="f_Paragraph">For this type of deadband the Deadband Value is defined as the percentage of the EURange. That is, it applies only to AnalogItems with an EURange property that defines the typical value range for the item. This range will be multiplied with the Deadband Value to generate an exception limit. An exception is determined as follows:</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">Exception if </span><span class="f_FixedSize">(absolute value of (last cached value - current value) &gt; (Deadband Value/100.0) * ((high-low) of EURange)))</span></p>
<h2 class="p_Heading2"><span class="f_Heading2">Status Codes</span></h2>
<p class="p_Paragraph"><span class="f_Paragraph">The general structure of the StatusCode is specified in Part 4. It includes a set of common operational result codes that also apply to Data Access for “Good”, “Bad” and “Uncertain” states. Certain conditions under which a variable value was generated are only valid for automation data and in particular for device data. These following tables outline codes that are specific for Data Access and supplement the codes that apply to all types of data. </span></p>
<p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Bad operation level result codes:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Status Condition </span></p>
</td>
<td style="vertical-align:top; width:472px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Configuration Error</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">There is a problem with the configuration that affects the usefulness of the value. </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Not Connected</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The variable should receive its value from another variable, but has never been configured to do so. </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Device Failure</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">There has been a failure in the device/data source that generates the value that has affected the value.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Sensor Failure</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">There has been a failure in the sensor from which the value is derived by the device/data source.</span><br />
<span class="f_Paragraph">The limits bits are used to define if the limits of the value have been reached. </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">No Communication </span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Communications to the data source is defined, but not established, and there is no last known value available. This status/substatus is used for cached values before the first value is received. </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Out Of Service</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The source of the data is not operational. </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Deadband Filter Invalid</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The specified PercentDeadband is not supported, since an EURange is not configured.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Uncertain operation level result codes:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Status Condition</span></p>
</td>
<td style="vertical-align:top; width:440px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">No Communication - Last Usable</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Communication to the data source has failed. The variable value is the last value that had a good quality and it is uncertain whether this value is still current.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">The server timestamp in this case is the last time that the communication status was checked. The time at which the value was last verified to be true is no longer available.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Last Usable Value</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Whatever was updating this value has stopped doing so. This happens when an input variable is configured to receive its value from another variable and this configuration is cleared after one or more values have been received. </span></p>
<p class="p_Paragraph"><span class="f_Paragraph">This status/substatus is not used to indicate that a value is stale. Stale data can be detected by the client looking at the timestamps.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Substitute Value</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is an operational value that was manually overwritten.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Initial Value</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is an initial value for a variable that normally receives its value from another variable. This status/substatus is set only during configuration while the variable is not operational (while it is out-of-service). </span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Sensor Not Accurate</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is at one of the sensor limits. The Limits bits define which limit has been reached. Also set if the device can determine that the sensor has reduced accuracy (e.g. degraded analyzer), in which case the Limits bits indicate that the value is not limited.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Engineering Units Exceeded</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is outside of the range of values defined for this parameter. The Limits bits indicate which limit has been reached or exceeded.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:163px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">Sub Normal</span></p>
</td>
<td style="vertical-align:top; width:440px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is derived from multiple sources and has less than the required number of “Good” sources.</span></p>
</td>
</tr>
</table>
</div>
<p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Good operation level result codes:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Status Condition</span></p>
</td>
<td style="vertical-align:top; width:472px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:131px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph"> Local Override</span></p>
</td>
<td style="vertical-align:top; width:472px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The value has been Overridden. Typically this is means the input has been disconnected and a manually-entered value has been” forced”. </span></p>
</td>
</tr>
</table>
</div>
<h2 class="p_Heading2"><span class="f_Heading2">LimitBits</span></h2>
<p class="p_Paragraph"><span class="f_Paragraph">The bottom 16 bits of the StatusCode are bit flags that contain additional information, but do not affect the meaning of the StatusCode. Of particular interest for DataItems is the LimitBits field. In some cases, such as sensor failure it can provide useful diagnostic information.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">Servers that do not support Limit have to set this field to 0.</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:69px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Info Type</span></p>
</td>
<td style="vertical-align:top; width:457px; background-color:#99ccff; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:69px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">LimitBits</span></p>
</td>
<td style="vertical-align:top; width:457px; padding:3px;"><p class="p_Paragraph"><span class="f_Paragraph">The limit bits associated with the data value. The limits bits have the following meanings:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table style="width:456px; border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:64px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">Limit</span></p>
</td>
<td style="vertical-align:top; width:43px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">Bits</span></p>
</td>
<td style="vertical-align:top; width:307px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">Description</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:64px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">None</span></p>
</td>
<td style="vertical-align:top; width:43px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">00</span></p>
</td>
<td style="vertical-align:top; width:307px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is free to change.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:64px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">Low</span></p>
</td>
<td style="vertical-align:top; width:43px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">01</span></p>
</td>
<td style="vertical-align:top; width:307px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is at the lower limit for the data source.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:64px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">High</span></p>
</td>
<td style="vertical-align:top; width:43px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">10</span></p>
</td>
<td style="vertical-align:top; width:307px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is at the higher limit for the data source.</span></p>
</td>
</tr>
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; width:64px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">Constant</span></p>
</td>
<td style="vertical-align:top; width:43px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">11</span></p>
</td>
<td style="vertical-align:top; width:307px; padding:4px;"><p class="p_Paragraph"><span class="f_Paragraph">The value is constant and cannot change.</span></p>
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>

      </td>
  </tr>
  <tr>
    <td colspan="2" style="padding-top: 0px;">
         <p>
            <hr />
            <a href="mailto:support.automation@softing.com?subject=OPC UA C++ Server &amp; Client SDK V6.00 Documentation Feedback:Page=html_dataaccesstechnicaldetails.htm">Send comments on this topic.</a>
         </p>
         <p>
            Copyright © Softing Industrial Automation GmbH&nbsp;2022
         </p>
    </td>
  </tr>
</table>
</body>
</html>
