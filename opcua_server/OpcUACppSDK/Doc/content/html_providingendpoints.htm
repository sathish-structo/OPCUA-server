<!DOCTYPE HTML>
<html>
<head>
   <title>Providing Endpoints</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "html_providingendpoints.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">

<table width="100%" border="0" cellspacing="0" cellpadding="10">
  <tr valign="middle" bgcolor="#99CCFF">
    <td>
      <p>
        <table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td style="vertical-align:middle;">
              <p style="font-family:Verdana; font-size:9pt; font-style:italic;">OPC UA C++ Server &amp; Client SDK V6.00</p>
              <p style="font-family:Verdana; font-size:9pt; font-weight:bold;">Providing Endpoints</p>
            </td>
          </tr>
        </table>
      </p>
    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="html_welcome.htm">Top</a>&nbsp;
     <a href="html_serverinitializingandterminating.htm">Previous</a>&nbsp;
     <a href="html_serverstep1sample.htm">Next</a>
     </span>
    </td>
  </tr>
  <tr bgcolor="white">
      <td colspan="2">
          <p class="p_Paragraph"><a id="init"></a><span class="f_Paragraph">An <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoint</a> is the entry for clients where they can connect to access an OPC UA server. It defines the physical address (URL), the </span><span class="f_Reference">message security</span><span class="f_Paragraph"> and the required </span><span class="f_Reference">user authentication</span><span class="f_Paragraph">. A server can provide multiple <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoints</a> to allow different configurations.</span></p>
<p class="p_Paragraph"><span class="f_Heading3">Preconditions</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">Before it is possible to open an Endpoint, the <a href="class_softing_o_p_c_toolbox5_1_1_application.htm" class="topiclink">Application</a> must be initialized and started. (See <a href="html_serverinitializingandterminating.htm" class="topiclink">Initializing and Terminating a Server Application</a>)</span></p>
<h3 class="p_Heading3"><span class="f_Heading3">Providing an Endpoint</span></h3>
<p class="p_Paragraph"><span class="f_Paragraph">Opening an Endpoint consists of these steps:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:9pt; font-family: 'Verdana';color:#000000;">1.</span></td><td style="border:none"><span class="f_List">Create and configure an <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoint</a>. Set a </span><span class="f_List" style="font-style: italic;">URL</span><span class="f_List">, the </span><span class="f_Reference">security configuration</span><span class="f_List"> and the </span><span class="f_Reference">user token policy</span><span class="f_List"> (see <a href="html_serverendpointsecuritysetup.htm" class="topiclink">Server Endpoint Security Setup</a> for possible configurations). Here we use a configuration without any security or authentication.</span></td></tr></table></div><p class="p_CodeExample"><span class="f_CodeExample">Server::EndpointPtr&nbsp;endpoint&nbsp;=&nbsp;Endpoint::create();</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">endpoint-&gt;setUrl(_T(&quot;opc.tcp://MyHost:4880&quot;));</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">endpoint-&gt;addSecurityConfiguration(EnumMessageSecurityMode_None,</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_T(&quot;http://opcfoundation.org/UA/SecurityPolicy#None&quot;));</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">UserTokenPolicy&nbsp;userTokenPolicy;</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">userTokenPolicy.setPolicyId(_T(&quot;Anonymous_Policy&quot;));</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">userTokenPolicy.setTokenType(EnumUserTokenType_Anonymous);</span></p>
<p class="p_CodeExample"><span class="f_CodeExample">endpoint-&gt;addUserTokenPolicy(&amp;userTokenPolicy);</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:9pt; font-family: 'Verdana';color:#000000;">2.</span></td><td style="border:none"><span class="f_Paragraph">Add the <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoint</a> to the <a href="class_softing_o_p_c_toolbox5_1_1_application.htm" class="topiclink">Application</a>.</span></td></tr></table></div><p class="p_CodeExample"><span class="f_CodeExample">Application::instance()-&gt;addEndpoint(endpoint);</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:18px"><span style="font-size:9pt; font-family: 'Verdana';color:#000000;">3.</span></td><td style="border:none"><span class="f_Paragraph">Open the <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoint</a>. After this call the server is accessible for clients.</span></td></tr></table></div><p class="p_CodeExample"><span class="f_CodeExample">endpoint-&gt;open();</span></p>
<h3 class="p_Heading3"><span class="f_Heading3">Note:</span></h3>
<p class="p_Paragraph"><span class="f_Paragraph">It is recommended to initialize the address space to the desired state before connecting an <a href="class_softing_o_p_c_toolbox5_1_1_server_1_1_endpoint.htm" class="topiclink">Endpoint</a>. It prevents confusion on clients.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">See also: <a href="html_serverinitializingandterminating.htm" class="topiclink">Initializing and Terminating a Server Application</a>, <a href="html_serverstep1sample.htm" class="topiclink">Sample Application</a>, <a href="html_servertutorial.htm" class="topiclink">Server Tutorial</a>, <a href="html_serverendpointsecuritysetup.htm" class="topiclink">Server Endpoint Security Setup</a></span></p>

      </td>
  </tr>
  <tr>
    <td colspan="2" style="padding-top: 0px;">
         <p>
            <hr />
            <a href="mailto:support.automation@softing.com?subject=OPC UA C++ Server &amp; Client SDK V6.00 Documentation Feedback:Page=html_providingendpoints.htm">Send comments on this topic.</a>
         </p>
         <p>
            Copyright © Softing Industrial Automation GmbH&nbsp;2022
         </p>
    </td>
  </tr>
</table>
</body>
</html>
