<!DOCTYPE HTML>
<html>
<head>
   <title>PubSubState</title>
   <meta name="generator" content="Help &amp; Manual" />
   <meta name="keywords" content="" />
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
   <meta http-equiv="Content-Style-Type" content="text/css" />
   <link type="text/css" href="default.css" rel="stylesheet" />
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "html_programmersguide_pubsub_pubsubstate.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body style="margin: 0px 0px 0px 0px; background: #FFFFFF;">

<table width="100%" border="0" cellspacing="0" cellpadding="10">
  <tr valign="middle" bgcolor="#99CCFF">
    <td>
      <p>
        <table width="100%" border="0" cellspacing="0" cellpadding="0">
          <tr>
            <td style="vertical-align:middle;">
              <p style="font-family:Verdana; font-size:9pt; font-style:italic;">OPC UA C++ Server &amp; Client SDK V6.00</p>
              <p style="font-family:Verdana; font-size:9pt; font-weight:bold;">PubSubState</p>
            </td>
          </tr>
        </table>
      </p>
    </td>
    <td align="right">
     <span style="font-size: 9pt">
     <a href="html_welcome.htm">Top</a>&nbsp;
     <a href="html_programmersguide_pubsub_subscriberconfiguration_connection.htm">Previous</a>&nbsp;
     <a href="global_discovery_server.htm">Next</a>
     </span>
    </td>
  </tr>
  <tr bgcolor="white">
      <td colspan="2">
          <p class="p_Paragraph"><span class="f_Paragraph">The PubSub component classes <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm" class="topiclink">Connection</a>, <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_writer_group.htm" class="topiclink">WriterGroup</a>, <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_data_set_writer.htm" class="topiclink">DataSetWriter</a>, <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_reader_group.htm" class="topiclink">ReaderGroup</a> and <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_data_set_reader.htm" class="topiclink">DataSetReader</a> have a state machine with the states of <a href="_enums_8h_1a1a9bdaa265f4d19b157df45b4352679b.htm" class="topiclink">EnumPubSubState</a>.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">&nbsp;</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">The state machines are triggered in the following cases:</span></p>
<div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">The setEnabled() method (e.g <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm#class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection_1a0a6fe7d6f7c53eb482791c8a0908a558" class="topiclink">Connection::setEnabled()</a>) is invoked on the current PubSub component.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">A PubSub component is added or removed from its parent component.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">A parent component changes its state from or to </span><span class="f_Reference">Operational</span><span class="f_Paragraph">.</span></td></tr></table></div><div style="text-align: left; text-indent: 0px; padding: 0px 0px 0px 0px; margin: 5px 0px 5px 0px;"><table border="0" cellpadding="0" cellspacing="0" style="border:none;border-spacing:0px;padding:0px;line-height: normal;"><tr valign="baseline" style="vertical-align:baseline"><td style="border:none;width:13px"><span style="font-size:9pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;">&#8226;</span></td><td style="border:none"><span class="f_Paragraph">An error was detected during runtime, e.g. when the connection is broken.</span></td></tr></table></div><p class="p_Paragraph"><span class="f_Paragraph">&nbsp;</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">All PubSub components can be enabled or disabled individually.</span><br />
<span class="f_Paragraph">All PubSub components except for the <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm" class="topiclink">Connection</a> are set to enabled by default.</span><br />
<span class="f_Paragraph">This means they are initially in the state </span><span class="f_Reference">Paused</span><span class="f_Paragraph"> and will change automatically to </span><span class="f_Reference">Operational</span><span class="f_Paragraph"> as soon as their parent changes to </span><span class="f_Reference">Operational</span><span class="f_Paragraph"> or when a component is added to an </span><span class="f_Reference">Operational</span><span class="f_Paragraph"> parent.</span><br />
<span class="f_Paragraph">As the <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm" class="topiclink">Connection</a> is the root of the PubSub components, this class has an initial state of </span><span class="f_Reference">Disabled</span><span class="f_Paragraph"> and shall be enabled explicitly to trigger the start of the publisher or subscriber.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph" style="font-weight: bold;">Note:</span><span class="f_Paragraph"> The <a href="class_softing_o_p_c_toolbox5_1_1_application.htm" class="topiclink">Application</a> acts as a parent for the <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm" class="topiclink">Connection</a>, so the state of the <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm" class="topiclink">Connection</a> depends whether it is added to the <a href="class_softing_o_p_c_toolbox5_1_1_application.htm" class="topiclink">Application</a> and whether <a href="class_softing_o_p_c_toolbox5_1_1_application.htm#class_softing_o_p_c_toolbox5_1_1_application_1a9e2bc77fe2b30db133ef660ee4ffbb2b" class="topiclink">Application::start()</a> or <a href="class_softing_o_p_c_toolbox5_1_1_application.htm#class_softing_o_p_c_toolbox5_1_1_application_1aacff76fa9e59e7cfd9a42e19398c5512" class="topiclink">Application::stop()</a> is invoked.</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">&nbsp;</span></p>
<p class="p_Paragraph"><span class="f_Paragraph">Customers can derive classes from the PubSub component classes and override the callback onPubSubStateChanged() (e.g. <a href="class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection.htm#class_softing_o_p_c_toolbox5_1_1_pub_sub_1_1_connection_1addbfb6a941e1bc5d8f970ed0c1f6f60f" class="topiclink">Connection::onPubSubStateChanged()</a>) to react on state changes and to detect the </span><span class="f_Reference">Error</span><span class="f_Paragraph"> state.</span><br />
<span class="f_Paragraph" style="font-weight: bold;">Note: </span><span class="f_Paragraph">The OPC UA C++ Server &amp; Client SDK V6.00 will create trace messages of <a href="_enums_8h_1a97c77270ef219f0c54af0cb9e9f8ba86.htm" class="topiclink">EnumTraceLevel</a> </span><span class="f_Reference">Error</span><span class="f_Paragraph"> whenever the PubSubState changes to </span><span class="f_Reference">Error. </span><span class="f_Paragraph">The trace message describes the reason of the error and the messages will appear for the <a href="_enums_8h_1ade0ab8d5c00cd70492809107808b54e4.htm" class="topiclink">EnumTraceGroup</a> </span><span class="f_Reference">PubSub_Publisher</span><span class="f_Paragraph"> or </span><span class="f_Reference">PubSub_Subscriber</span><span class="f_Paragraph"> (see <a href="html_errorhandling.htm" class="topiclink">Error Handling</a>).</span></p>

      </td>
  </tr>
  <tr>
    <td colspan="2" style="padding-top: 0px;">
         <p>
            <hr />
            <a href="mailto:support.automation@softing.com?subject=OPC UA C++ Server &amp; Client SDK V6.00 Documentation Feedback:Page=html_programmersguide_pubsub_pubsubstate.htm">Send comments on this topic.</a>
         </p>
         <p>
            Copyright © Softing Industrial Automation GmbH&nbsp;2022
         </p>
    </td>
  </tr>
</table>
</body>
</html>
